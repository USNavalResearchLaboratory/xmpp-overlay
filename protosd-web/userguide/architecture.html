<h1>ProtoSD Discovery Architecture</h1>

<p>Proto Service Discovery (Proto-SD) is a toolkit that brings together multiple service
    discovery protocols that can be accessed through a single interface.  It provides
    application and user Web-based interfaces for creating services and providing access to
    the services it discovers and for integration into third party applications. Below
        is an overview of the number of different ways that ProtoSD can be used.</p>

<div style="width: 900px; margin: auto;">
    <img src="/userguide/images/protosdinuse.png" alt="ProtoSD architecture" width="900px">
</div>

    The Web API is hosted using a simplified Java web server (250K jar - i.e. not at all a
    J2EE container) and a Representational State Transfer (REST) API is implemented using
    Jersey<a href="#references"><sup>1</sup></a>, which is an implementation of the
    JAX-RS (JSR 311) standard.   According to Fielding<a href="#references"><sup>2</sup></a>, a
    REST-based approach "emphasizes scalability of component
    interactions, generality of interfaces, independent deployment of components, and
    intermediary components to reduce interaction latency, enforce security, and encapsulate
    legacy systems". For ProtoSD, the REST interface provides a way of hosting
    REST-based services using core Hypertext Transfer Protocol (HTTP) semantics i.e.
    CRUD operations (Create, read, update and delete) with Web Application Description Language
    (WADL) interfaces, which can have a number of different payloads (e.g. URL encoded from
    HTTP forms, XML, JSON<a href="#references"><sup>3</sup></a>, etc) and authentication mechanisms (e.g. Oauth and others).  </p>

    <p>For discovery, this not only provides a good backbone for hosting a local web site
        (to act as a user interface for deploying instances and adaptive tuning of settings)
        but it also provides a simple Web API for use by other programming languages to have
        full control over service discovery.  For example, for mobile networks, this can be used to
        feedback information about the network in order to tune the discovery. More precisely,
        this far finer grained level of control can be used self adapt the timers according to
        the local state of the immediate surrounding network and provide feedback mechanism
        to dynamically steer the discovery system's timers according the network
        infrastructure it is operating in.</p>

    <p>The Web GUI provides a browsable desktop application for ProtoSD. It allows the user to
        create new ProtoSD instances, create services and provides tree interfaces for visualising
        the resulting discovered services on the network. To enable dynamic updates, ProtoSD uses a
        client-side JQuery<a href="#references"><sup>4</sup></a> component that queries the server using an AJAX asynchronous HTTP GET
        to return service advertisement updates as and when new services are available. In this way,
        the browser updates immediately upon discovery of a new service (i.e. uses the COMET style
        of server callback). By exposing two independent endpoints for fetching a JSON or HTML
        data structure from the server, it can render using either a JsTree<a href="#references"><sup>5</sup></a> JQuery tree structure
        for displaying to the users. A user can also search the various mDNS fields for
        pruning of this list to match only the desired services.</p>

        <p>The figure below provides an architectural overview of the various components in ProtoSD:</p>

    <div style="width: 900px; margin: auto;">
        <img src="/userguide/images/protosdarchitecture.png" alt="ProtoSD architecture" width="900px">
    </div>

    <p>As illustrated in this diagram, ProtoSD can be used in several ways:

    <ol>
        <li> Using the Java method API directly and integrating ProtoSD directly into a
            Java application.</li>
        <li> Using the command line tool to advertise and discovery services, just as one would use
        apple's "dns-sd" application.</li>
        <li> Using the Web GUI by browing localhost:8080 in any web browser.  This allows you to create
            multiple ProtoSD instances (each running on a different port for example) and to advertise
            services and discover them within Web GUIs.</li>
        <li> A third party application written in different programming language can use the RESTful Web
            API of a running ProtoSD server to create ProtoSD instances, create services and search for and
            discover services on the network.</li>
        <li> You can also use ProtoSD in the CORE emulation environment.  ProtoSD
        provides support for synchronising with mobility patterns in CORE<a href="#references"><sup>6</sup></a> and also to collect events from
        distributed emulations.  It also allows you to run the Web service browser on the host and to
        view all the services discovered on every CORE node of the emulation to have a service overview
        of the network as a whole.</li>
    </ol>


<h2>References</h2>
 <hr />

    <ol id="references">
        <li>Jersey, http://jersey.java.net</li>
        <li>Fielding, R., Architectural Styles and the Design of Network-based Software Architectures, Dissertation, University of California Irvine, 2000</li>
        <li>JSON, http://www.json.org</li>
        <li>JQuery, http://www.jquery.com</li>
        <li>JsTree, www.jstree.com/</li>
        <li>CORE, core.emu.edu (put correct URL HERE!!)</li>
    </ol>





